"use strict";(self.webpackChunkclarity_cec_1=self.webpackChunkclarity_cec_1||[]).push([[1891],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(a),m=i,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||s;return a?n.createElement(h,r(r({ref:t},d),{},{components:a})):n.createElement(h,r({ref:t},d))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=a.length,r=new Array(s);r[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:i,r[1]=o;for(var p=2;p<s;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6955:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var n=a(7462),i=(a(7294),a(3905));a(8209);const s={id:"cc1_evaluation",title:"Evaluation",sidebar_label:"Evaluation",sidebar_position:4},r=void 0,o={unversionedId:"cadenza1/cc1_evaluation",id:"cadenza1/cc1_evaluation",title:"Evaluation",description:"If you haven't received your TEAM ID and you already registered, please contact the team here.",source:"@site/docs/cadenza1/cc1_evaluation.md",sourceDirName:"cadenza1",slug:"/cadenza1/cc1_evaluation",permalink:"/docs/cadenza1/cc1_evaluation",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"cc1_evaluation",title:"Evaluation",sidebar_label:"Evaluation",sidebar_position:4},sidebar:"tutorialSidebar1",previous:{title:"Summary Task 2",permalink:"/docs/cadenza1/cc1_summary_task2"},next:{title:"Take Part",permalink:"/docs/category/take-part"}},l={},p=[{value:"1. Task 1 - Headphone",id:"1-task-1---headphone",level:2},{value:"1.1 Evaluation Music Dataset",id:"11-evaluation-music-dataset",level:3},{value:"1.2 Segments Metadata",id:"12-segments-metadata",level:3},{value:"1.3 Test Script",id:"13-test-script",level:3},{value:"2. Task 2 - Car",id:"2-task-2---car",level:2},{value:"2.1 Evaluation Music Dataset",id:"21-evaluation-music-dataset",level:3},{value:"2.2 Test Script",id:"22-test-script",level:3}],d={toc:p},u="wrapper";function c(e){let{components:t,...a}=e;return(0,i.kt)(u,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If you haven't received your ",(0,i.kt)("strong",{parentName:"p"},"TEAM ID")," and you already registered, please contact the team ",(0,i.kt)("a",{parentName:"p",href:"https://groups.google.com/u/1/g/cadenza-challenge"},"here"),".\nIf you still don't register your team, please go ",(0,i.kt)("a",{parentName:"p",href:"Take%20Part/cc1_registration"},"here"),"."),(0,i.kt)("p",{parentName:"admonition"},"Please, to run the evaluation, first ensure you updated your code to pyclarity version 0.3.4\nand downloaded the data for,"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"task 1 ",(0,i.kt)("a",{parentName:"li",href:"https://forms.gle/UQkuCxqQVxZtGggPA"},"download here"),"  "),(0,i.kt)("li",{parentName:"ul"},"task 2 ",(0,i.kt)("a",{parentName:"li",href:"https://forms.gle/2Y7KLZY23i7bH3Lo9"},"download here")))),(0,i.kt)("h2",{id:"1-task-1---headphone"},"1. Task 1 - Headphone"),(0,i.kt)("p",null,"The evaluation package contains all audio tracks and metadata files necessary for run the evaluation."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cadenza_cad1_task1_evaluation.v1_0.tar.gz")," ",(0,i.kt)("strong",{parentName:"li"},"[1.9 GB]")," - audio and metadata evaluation data.")),(0,i.kt)("p",null,"For processing the test data, run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"python3 test.py path.root=/path/to/cadenza_data/dir \\\n        path.exp=/path/to/experiment/ \\\n        team_id=<Your_Team_ID>\n")),(0,i.kt)("p",null,"The script will produce a file we request you to submit called ",(0,i.kt)("inlineCode",{parentName:"p"},"submission_<Your_Team_ID>.zip")," ",(0,i.kt)("strong",{parentName:"p"},"[23 GB]"),"."),(0,i.kt)("h3",{id:"11-evaluation-music-dataset"},"1.1 Evaluation Music Dataset"),(0,i.kt)("p",null,"The evaluation stage uses 49 from the 50 track in the evaluation set from the MUSDB18-HQ dataset.\nThe track ",(0,i.kt)("inlineCode",{parentName:"p"},"Punkdisco - Oral Hygiene")," was filtered out from the evaluation because it content can be offensive\nto members of the listener panel."),(0,i.kt)("p",null,"To keep the entrants' submission size in manageable ranges, the objective evaluation (HAAQI) will be performed only\nusing 30-second segments per song-listener. Therefore, we will only require for entrants to submit the\n30-second segment from the eight VDBO. These segments were selected randomly, ensuring that all stems were active\nat some point in the segment. This because HAAQI cannot be computed over an empty signal.\nIn the case of an instrument was not active in the segment, we rerun the process until find a suitable segment."),(0,i.kt)("p",null,"In the subjective evaluation (listener panel), listeners will be presented with segments of 15-second of duration.\nTherefore, for the remixed signal, we just require for entrants to submit the pre-defined segments.\nThese segments were selected randomly. However, as some of the song contain searing words, we ensure that the\nno swearing words were present in the segment by checking the lyrics. In the case of a swearing word was found in the\nsegment, we rerun the process and select a new segment."),(0,i.kt)("p",null,"The start and en point of the segments for objective and subjective evaluation were selected separately. Therefore,\nthere is no dependency between them. Also, the start and end point of the segments are fixed and are the same for all entrants."),(0,i.kt)("h3",{id:"12-segments-metadata"},"1.2 Segments Metadata"),(0,i.kt)("p",null,"The start and end point of the segments for objective and subjective evaluation are contained in the\n",(0,i.kt)("inlineCode",{parentName:"p"},"metadata/musdb18.segments.test.json")," file."),(0,i.kt)("p",null,"For example, below is showing the start and end point for the segments from the song ",(0,i.kt)("inlineCode",{parentName:"p"},"AM Contra - Heart Peripheral"),".\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"objective_evaluation")," item is showing the start and end point for the 30-second segment for objective evaluation (HAAQI).\nAnd, ",(0,i.kt)("inlineCode",{parentName:"p"},"subjective_evaluation")," item is showing the start and end point for the 15-second segment for subjective evaluation (listener panel)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "AM Contra - Heart Peripheral": {\n    "subjective_evaluation": {\n      "start": 51.77,\n      "end": 66.77,\n      "duration": 15.0\n    },\n    "objective_evaluation": {\n      "start": 129.64,\n      "end": 159.64,\n      "duration": 30.0\n    }\n  },\n  ...\n}\n')),(0,i.kt)("h3",{id:"13-test-script"},"1.3 Test Script"),(0,i.kt)("p",null,"Together with the dataset, we released the ",(0,i.kt)("inlineCode",{parentName:"p"},"PyCLarity")," version ",(0,i.kt)("inlineCode",{parentName:"p"},"0.3.4"),".\nThis version includes small changes in the recipes that allow to process the signal and generates\nthe entrant's submission package."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"we added four new parameters in the ",(0,i.kt)("inlineCode",{parentName:"li"},"config.yaml"),":")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"music_test_file"),": path to the file with the list of test tracks"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"music_segments_test_file"),": path to the file with the details of the start and end point for each segment"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path.listeners_test_file"),": path to the test listeners audiograms"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"team_id"),": this is the ID of your team.  ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"path: \n   music_test_file: ${path.metadata_dir}/musdb18.test.json\n   music_segments_test_file: ${path.metadata_dir}/musdb18.segments.test.json\n   listeners_test_file: ${path.metadata_dir}/listeners.test.json\n\nteam_id: ???\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"We included the file ",(0,i.kt)("inlineCode",{parentName:"li"},"test.py")," that process the signal using the ",(0,i.kt)("inlineCode",{parentName:"li"},"test")," songs and ",(0,i.kt)("inlineCode",{parentName:"li"},"test")," audiograms. And, generates the\nsegments from the processed signals.\nAfter the processing, this script archives the files in a ",(0,i.kt)("inlineCode",{parentName:"li"},"ZIP")," file with the name ",(0,i.kt)("inlineCode",{parentName:"li"},"submission_<TEAM_ID>.zip"),". This is the file\nyou need to submit.")),(0,i.kt)("h2",{id:"2-task-2---car"},"2. Task 2 - Car"),(0,i.kt)("p",null,"The evaluation package contains all audio tracks and metadata files necessary for run the evaluation."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cadenza_cad1_task2_evaluation.v1_1.tar.gz")," ",(0,i.kt)("strong",{parentName:"li"},"[717 MB]")," - audio and metadata evaluation data.")),(0,i.kt)("p",null,"For processing the test data, run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"python3 test.py path.root=/path/to/cadenza_data/dir \\\n        path.exp=/path/to/experiment/ \n        path.scenes_file=/path/to/scenes.test.json \\\n        path.scenes_listeners_file=/path/to/scenes_listeners.test.json \\\n        evaluate.split=test \\\n        team_id=<Your_Team_ID>\n")),(0,i.kt)("p",null,"The script will produce a file we request you to submit called ",(0,i.kt)("inlineCode",{parentName:"p"},"submission_<Your_Team_ID>.zip")," ",(0,i.kt)("strong",{parentName:"p"},"[7.9 GB]"),"."),(0,i.kt)("h3",{id:"21-evaluation-music-dataset"},"2.1 Evaluation Music Dataset"),(0,i.kt)("p",null,"Like the training and validation sets, the evaluation set is based on the small split of the FMA dataset and the MTG Jamendo dataset.\nThe tracks were selected following the same procedure as the training and validation sets (see ",(0,i.kt)("a",{parentName:"p",href:"Data/cc1_data_overview_car#11-music-data"},"here"),").\nHowever, to keep the entrants' submission in manageable sizes, we reduced the test set to 10 tracks per genre. "),(0,i.kt)("h3",{id:"22-test-script"},"2.2 Test Script"),(0,i.kt)("p",null,"Together with the dataset, we released the ",(0,i.kt)("inlineCode",{parentName:"p"},"PyCLarity")," version ",(0,i.kt)("inlineCode",{parentName:"p"},"0.3.4"),".\nThis version includes small changes in the recipes that allow to process the signal and generates\nthe entrant's submission package."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"First, we added two new parameters in the ",(0,i.kt)("inlineCode",{parentName:"li"},"config.yaml"),":")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"path.listeners_test_file"),": path to the test listeners audiograms."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"team_id"),": this is the ID of your team.  ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"path:\n  listeners_test_file: ${path.metadata_dir}/listeners.test.json\n\nteam_id: ???\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"The function ",(0,i.kt)("inlineCode",{parentName:"li"},"load_listeners_and_scenes")," in the file ",(0,i.kt)("inlineCode",{parentName:"li"},"baseline_utils.py")," was modified to take into account the\ntest set files.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'...\n    elif config.evaluate.split == "test":\n        with open(config.path.listeners_test_file, encoding="utf-8") as fp:\n            listener_audiograms = json.load(fp)\n        scenes = df_scenes[df_scenes["split"] == "test"].to_dict("index")\n...\n')),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"We included the file ",(0,i.kt)("inlineCode",{parentName:"li"},"test.py")," that process the signal using the ",(0,i.kt)("inlineCode",{parentName:"li"},"test")," songs and ",(0,i.kt)("inlineCode",{parentName:"li"},"test")," audiograms.\nAfter the processing, this script archives the files in a ",(0,i.kt)("inlineCode",{parentName:"li"},"ZIP")," file with the name ",(0,i.kt)("inlineCode",{parentName:"li"},"submission_<TEAM_ID>.zip"),". This is the file\nyou need to submit.")))}c.isMDXComponent=!0},8209:(e,t,a)=>{a(7294)}}]);