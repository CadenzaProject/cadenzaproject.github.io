"use strict";(self.webpackChunkclarity_cec_1=self.webpackChunkclarity_cec_1||[]).push([[3886],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createContext({}),d=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(o.Provider,{value:t},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),h=d(a),u=i,m=h["".concat(o,".").concat(u)]||h[u]||p[u]||r;return a?n.createElement(m,s(s({ref:t},c),{},{components:a})):n.createElement(m,s({ref:t},c))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=u;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[h]="string"==typeof e?e:i,s[1]=l;for(var d=2;d<r;d++)s[d]=a[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},9029:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var n=a(7462),i=(a(7294),a(3905)),r=(a(8209),a(4996));const s={id:"cc1_baseline",title:"Baseline",sidebar_label:"Baseline",sidebar_position:6.1},l=void 0,o={unversionedId:"cadenza1/Software/cc1_baseline",id:"cadenza1/Software/cc1_baseline",title:"Baseline",description:"Challenge entrants have a fully functioning baseline system to build from.",source:"@site/docs/cadenza1/Software/cc1_baseline.mdx",sourceDirName:"cadenza1/Software",slug:"/cadenza1/Software/cc1_baseline",permalink:"/docs/cadenza1/Software/cc1_baseline",draft:!1,tags:[],version:"current",sidebarPosition:6.1,frontMatter:{id:"cc1_baseline",title:"Baseline",sidebar_label:"Baseline",sidebar_position:6.1},sidebar:"tutorialSidebar_cad1",previous:{title:"Software",permalink:"/docs/category/software"},next:{title:"Core Software",permalink:"/docs/cadenza1/Software/cc1_core_software"}},d={},c=[{value:"1. Task 1: Headphones",id:"1-task-1-headphones",level:2},{value:"1.1 Baseline system",id:"11-baseline-system",level:3},{value:"2. Task 2: Car",id:"2-task-2-car",level:2},{value:"2.1 Baseline system",id:"21-baseline-system",level:3},{value:"2.1.1 Loudness consideration in enhancement",id:"211-loudness-consideration-in-enhancement",level:4},{value:"2.1.1 Loudness consideration in evaluation",id:"211-loudness-consideration-in-evaluation",level:4},{value:"3. References",id:"3-references",level:2}],h={toc:c},p="wrapper";function u(e){let{components:t,...a}=e;return(0,i.kt)(p,(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Challenge entrants have a fully functioning baseline system to build from."),(0,i.kt)("h2",{id:"1-task-1-headphones"},"1. Task 1: Headphones"),(0,i.kt)("figure",{id:"fig1"},(0,i.kt)("img",{width:"800",src:(0,r.Z)("../img/headphone_simple_v2.png")}),(0,i.kt)("figcaption",null,"Figure 1, The baseline for the car listening scenario (Task 2), not all connections shown.")),(0,i.kt)("p",null,"The music databases (blue box) are available in object based format, allowing us to create both stereo input to the\ndemixer (grey line) and music in VDBO (vocal, drums, bass, other) format (red lines).\nThese later signals form the reference VDBO signals that are needed for the objective evaluation using ",(0,i.kt)("a",{parentName:"p",href:"../../learning_resources/Hearing_aid_processing/edu_HAP_HA_processed_speech#haaqi-hearing-aid-audio-quality-index"},"HAAQI")," (Hearing Aid Audio Quality Index) ","[1]",".\nThe demixing part is therefore a variant on a standard demixing challenge, except the quality of\nthe separation is evaluated using HAAQI rather than a measure like SDR (Signal to Distortion Ratio)."),(0,i.kt)("p",null,"The audiogram metadata allows the music enhancement (e.g. demixing/remixing) to be individualised to the hearing\nability of the listener (dash grey lines)."),(0,i.kt)("p",null,"The VDBO signals are remixed to give the stereo output from the headphones. It would be possible to use a simple\nremixer that uses the levels stated in the original music's metadata. But there is freedom here to experiment with\nchanging the remixing to improve the audio quality for the listeners."),(0,i.kt)("h3",{id:"11-baseline-system"},"1.1 Baseline system"),(0,i.kt)("p",null,"We are presenting two baseline systems using two out-of-the-box systems trained exclusively on the MUSDB18 training data."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The time-domain system ",(0,i.kt)("a",{parentName:"li",href:"https://arxiv.org/abs/2111.03600"},"Hybrid Demucs music source separation model"),". This model is publicly available in the\n",(0,i.kt)("a",{parentName:"li",href:"https://pytorch.org/audio/main/generated/torchaudio.pipelines.HDEMUCS_HIGH_MUSDB.html#torchaudio.pipelines.HDEMUCS_HIGH_MUSDB"},"TorchAudio library"),"."),(0,i.kt)("li",{parentName:"ol"},"The spectrogram-based system ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/sigsep/open-unmix-pytorch"},"Open-Unmix model"),". This model is publicly available through ",(0,i.kt)("inlineCode",{parentName:"li"},"torch.hub"),".")),(0,i.kt)("p",null,"The output of the demixing is 8 stems corresponding to the left and right channel for each source,\ni.e., left vocal, right vocal, left bass, right bass, and so on."),(0,i.kt)("p",null,"Then, a NAL-R amplification and compression is applied to each stem using the personalized audiogram of each listener.\nNAL-R is a prescription formulation for fitting simple hearing aids. This then creates the output stems."),(0,i.kt)("p",null,"These output stems are then evaluated by computing the mean ",(0,i.kt)("a",{parentName:"p",href:"../../learning_resources/Hearing_aid_processing/edu_HAP_HA_processed_speech#haaqi-hearing-aid-audio-quality-index"},"HAAQI")," score of each stem. "),(0,i.kt)("p",null,"For the remixing procedure, the baseline simply does a linear addition of the output stems. "),(0,i.kt)("p",null,'Your challenge is to improve the demixing and remixing blocks in the "enhancement" box. The rest of the baseline is fixed and should not be changed.'),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"2-task-2-car"},"2. Task 2: Car"),(0,i.kt)("figure",{id:"fig1"},(0,i.kt)("img",{width:"800",src:(0,r.Z)("/img/car_simple_v2.png")}),(0,i.kt)("figcaption",null,"Figure 1, The baseline for the headphone listening scenario (Task 1).")),(0,i.kt)("p",null,"The music database (blue box) provide samples as input to the car stereo and also reference left and right\nstereo signals for evaluating using ",(0,i.kt)("a",{parentName:"p",href:"../../learning_resources/Hearing_aid_processing/edu_HAP_HA_processed_speech#haaqi-hearing-aid-audio-quality-index"},"HAAQI"),". Your task is to process the music taking into account the listener\naudiogram and also the car noise. You have access to the car metadata (e.g. speed), which will determine\nthe power spectrum of the car noise."),(0,i.kt)("p",null,"The evaluation starts by predicting the signals at the microphones of the hearing aids.\nThe effect of the 'room' acoustics is simulated by applying Binaural Room Impulse Responses\n(taken from the ",(0,i.kt)("a",{parentName:"p",href:"https://www.phon.ucl.ac.uk/resource/ebrird/"},"eBrIRD")," database).\nThe car noise comes from a simulator we provide."),(0,i.kt)("p",null,"After the car noise and acoustic simulation, the signals are then processed by a simple hearing aid.\nThis then provides left and right signals that can be used for evaluation either by ",(0,i.kt)("a",{parentName:"p",href:"../../learning_resources/Hearing_aid_processing/edu_HAP_HA_processed_speech#haaqi-hearing-aid-audio-quality-index"},"HAAQI")," or the listening panel."),(0,i.kt)("p",null,"Your challenge is to improve the car stereo ('Enhancement'). The 'Evaluation' is fixed and should not be changed."),(0,i.kt)("h3",{id:"21-baseline-system"},"2.1 Baseline system"),(0,i.kt)("p",null,"In enhancement, the baseline system simply normalises the signal accordingly to the average audiogram of the ear with\ngreater hearing loss. The system attenuates the signal and saves it at 16 bit resolution."),(0,i.kt)("p",null,"In the evaluation stage, the car noise and car acoustics characteristics (HRTFs) are added to the enhanced signal.\nThis signal is then passed to a simple hearing aid (HA) composed of a NAL-R amplification."),(0,i.kt)("p",null,"The output of the HA is use for HAAQI and listening panel evaluation."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"An important issue to be aware of is the possibility of the hearing aid producing signals with an amplitude that causes clipping.\nWhen this happens, the system prints warning messages in the log file, including the track path and the number of clipped samples.")),(0,i.kt)("p",null,"More details can be found in the ",(0,i.kt)("a",{parentName:"p",href:"cc1_core_software"},"core software")," page."),(0,i.kt)("h4",{id:"211-loudness-consideration-in-enhancement"},"2.1.1 Loudness consideration in enhancement"),(0,i.kt)("p",null,"The baseline enhancement system simply sets an appropriate level for the original music based on the music and audiogram of the listener. It isn't perfect and some samples still clip!"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Computes the level in dB LUFS (loudness units relative to full scale) of the original song, i.e., the song from the dataset."),(0,i.kt)("li",{parentName:"ol"},"Computes the average hearing loss (HL) for each ear.  Refer to ",(0,i.kt)("a",{parentName:"li",href:"docs/learning_resources/Hearing_impairment/edu_measuring_HI"},"measuring hearing impairment"),"\nresource to understand how this average is computed."),(0,i.kt)("li",{parentName:"ol"},"Set a temporal target level according maximum average HL.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"If average is equal or greater than 50, set the temporal target level to -19 dB LUFS. Then, for every 5dB LUFS over 50 dB,\nreduce the level in an additional 1 dB LUFS."),(0,i.kt)("li",{parentName:"ul"},"Otherwise, set the temporal target level at -14 dB LUFS."))),(0,i.kt)("li",{parentName:"ol"},"The final target level for normalisation is set as the minimum between the temporal target and the original song levels.")),(0,i.kt)("p",null,"Example:\nAll levels are in dB LUFS"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Song"),(0,i.kt)("th",{parentName:"tr",align:null},"Max average HL"),(0,i.kt)("th",{parentName:"tr",align:null},"Original Level"),(0,i.kt)("th",{parentName:"tr",align:null},"Temp Target Level"),(0,i.kt)("th",{parentName:"tr",align:null},"Final Level"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1"),(0,i.kt)("td",{parentName:"tr",align:null},"35"),(0,i.kt)("td",{parentName:"tr",align:null},"-13"),(0,i.kt)("td",{parentName:"tr",align:null},"-14"),(0,i.kt)("td",{parentName:"tr",align:null},"-14")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"2"),(0,i.kt)("td",{parentName:"tr",align:null},"42"),(0,i.kt)("td",{parentName:"tr",align:null},"-15"),(0,i.kt)("td",{parentName:"tr",align:null},"-14"),(0,i.kt)("td",{parentName:"tr",align:null},"-15")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"3"),(0,i.kt)("td",{parentName:"tr",align:null},"50"),(0,i.kt)("td",{parentName:"tr",align:null},"-15"),(0,i.kt)("td",{parentName:"tr",align:null},"-19"),(0,i.kt)("td",{parentName:"tr",align:null},"-19")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"4"),(0,i.kt)("td",{parentName:"tr",align:null},"60"),(0,i.kt)("td",{parentName:"tr",align:null},"-13"),(0,i.kt)("td",{parentName:"tr",align:null},"-19"),(0,i.kt)("td",{parentName:"tr",align:null},"-21")))),(0,i.kt)("p",null,"The levels of -14 and -19 dB LUFS were set according to ",(0,i.kt)("a",{parentName:"p",href:"https://artists.spotify.com/en/help/article/loudness-normalization"},"Spotify standard"),"."),(0,i.kt)("h4",{id:"211-loudness-consideration-in-evaluation"},"2.1.1 Loudness consideration in evaluation"),(0,i.kt)("p",null,'For the signal passing through the hearing aid. The enhanced signal ("processed music in above diagram") has the car acoustic characteristics and car noise added (See ',(0,i.kt)("a",{parentName:"p",href:"cc1_core_software#21-car-acoustics-model"},"here"),").\nThis then goes into the hearing aid, which is a simple linear amplifier. If any sample values exceed +1 (or are below -1) on the output of the hearing aid, they are then set to +1 (or -1). Consequently, setting the levels of the enhancement signals to prevent clipping at this point is vital."),(0,i.kt)("p",null,'For the reference signal ("clean music") passing to ',(0,i.kt)("a",{parentName:"p",href:"../../learning_resources/Hearing_aid_processing/edu_HAP_HA_processed_speech#haaqi-hearing-aid-audio-quality-index"},"HAAQI"),", a simple stereo set up in a dead room is simulated:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Anechoic HRTFs are applied to the reference signal to simulate the stereo set-up. This then gives the music at the listener ear canal."),(0,i.kt)("li",{parentName:"ol"},"The reference signal is then normalise to the lower loudness between the enhanced signal after adding the car acoustics and -14 dB LUFS.\nThis becomes the reference signal for ",(0,i.kt)("a",{parentName:"li",href:"../../learning_resources/Hearing_aid_processing/edu_HAP_HA_processed_speech#haaqi-hearing-aid-audio-quality-index"},"HAAQI")," evaluation.")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"3-references"},"3. References"),(0,i.kt)("a",{name:"refs"}),(0,i.kt)("p",null,"[1]"," Kates, J.M.  and Arehart, K.H., 2016. The Hearing-Aid Audio Quality Index (HAAQI), in IEEE/ACM Transactions on Audio, Speech, and Language Processing, vol. 24, no. 2, pp. 354-365, doi: 10.1109/TASLP.2015.2507858."))}u.isMDXComponent=!0},8209:(e,t,a)=>{a(7294)}}]);